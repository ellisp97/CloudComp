<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <script src="jquery-3.1.1.min.js"></script>
    <script src="knockout-3.4.2.js"></script>
    <script type="text/javascript">
    function goRecipePage() {
        location.href = "http://cloud-coursework-manan-ellis.s3-website.eu-west-2.amazonaws.com/index.html";

    }
        $(document).ready(function() {
            // var recipeViewModel = function() {
                function addRecipe( e ) {
                    var form = $(this);
                    var result = { };
                    $.each(form.serializeArray(), function() {
                        result[this.name] = this.value;
                    });

                    // at this stage the result object will look as expected so you could use it
                    // console.log(this)
                    $.ajax({
                        url: 'https://wbzki5ae1e.execute-api.eu-west-2.amazonaws.com/test/getrecipebyid',
                        type: 'POST',
                        contentType: 'application/json',
                        data: "{'RecipeID' : '" + result.RecipeID + "','ingredients' : '" + result.ingredients + "', 'method' : ' " + result.method + " ','recipeName' : ' " + result.recipeName + "'}",
                        success: function (data) {
                            console.log(result.RecipeID);
                            alert("yay")
                        }
                    });
                };
            // };
            // var viewModel = new recipeViewModel;
            // ko.applyBindings(viewModel);
            $('#recipe_form').submit( addRecipe );
         });

    </script>
</head>

<body>
    <form id="recipe_form" action="#">
        <h3> Your RecipeID: </h3>
        <input type="text" placeholder="RecipeID" name="RecipeID" />
        <br />
        <h3> Your Recipe title: </h3>
        <input type="text" placeholder="Recipe Title" name="recipeName"/>
        <br />
        <h3>Ingredients:</h3>
        <div class="ingredients-container">
            <input type="text" placeholder="Ingredient" name="ingredients" data-bind="value : ingredients" />
        </div>
        <br />
        <h3>Method:</h3>
        <div class="steps-container">
            <input type="text" placeholder="Step" name="method" data-bind="value : method"/>
            <br />
        </div>
        <br />
        <button type="submit" class="submit-button"> Submit recipe </button>
        <input type="button" value="Home" onclick="goRecipePage()"/>

    </form>


</body>
</html>
